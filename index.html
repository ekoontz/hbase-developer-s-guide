<html>
  <head>
    <!-- CSS : implied media="all" -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/hbase_dev_guide.css">
    
    <!-- For the less-enabled mobile browsers like Opera Mini -->
    <link rel="stylesheet" media="handheld" href="css/handheld.css?v=1">
    <title>HBase Dev Guide</title>
  </head>
  <body>
    <h1 "text-align:center;width:100%;float:left">HBase Dev Guide</h1>
    <h2>Author: Eugene Koontz et. al.</h2>
    <h1>Introduction</h1>
    <p>
    </p>
      <h1>Installation</h1>
        <h2>VirtualBox instance setup</h2>
          <h3>Create your own</h3>
	  <p>
	    It is a good learning exercise to make your own Linux
	    images. If you are using Debian or Ubuntu, this is a
	    superset of the <a href="dpkg.txt">list of packages you need</a>
	    <a href="debtree.png"><code>.png</code></a>,
	    <a href="debtree.dot"><code>.dot</code></a>). 

	    <p> Note that
	    this is a superset, some packages in this list are not
	    necessary for running HBase, but I wanted to install them
	    for some reason.

	    <p>In essence you want a linux server install with:
	      <ul>
		<li>opensshd</li>
		<li>maven2 (this will pull in Java)</li>
	      </ul>
	    </p>
	    <p>This is a small subset of what HBase needs, but when we
	    run Maven (see <b>Compilation</b> below), it will pull in
	    all of the remaining prerequisites and store them in
	    your <code>~/.m2</code> directory.
	    </p>

	    <p>If you want to use the Secure HBase functionality
	    which is starting to become available, you will also want
	    to install:
	      <ul>
		<li>krb5 (client)</li>
		<li>krb5 (server) (for at least one machine
		(the Ticket Granting instance)).</li>
		<li>DNS (server) for one machine</li>
		<li>DNS (client) for other machines</li>
		<li>NTP (server) for one machine</li>
		<li>NTP (client) for other machines</li>
	      </ul>

          <h3>Eugene's Virtualbox images download</h3>

	  <p>(add link to virtualbox images..hopefully won't be too
	  huge to host somewhere..)</p>

      <h2>HDFS Compilation</h2>

      <h3>Hadoop Git repository</h3>

      <p>Substitute your github username for <code>myuser</code> below:</p>

      <pre class="block">
	git clone http://github.com/myuser/hadoop-common
	git clone http://github.com/myuser/hadoop-hdfs
      </pre>

      <h2>HDFS Startup</h2>

      <h3>Authentication (optional)</h3>

      <p>This is required if you want to use Secure Hadoop and Secure HBase.</p>

      <h2>HDFS Test</h2>

      <h3>Authentication (optional)</h3>

      <h2>HBase Compilation</h2>
      
      <h3>HBase Git repository</h3>

      <p>
      Substitute your github username for <code>myuser</code> below:
      </p>

      <pre class="block">
	git clone http://github.com/myuser/hbase
      </pre>

      <h3>HBase Startup</h3>

      <h4>Hadoop development <code>CLASSPATH</code> setting</h4>

      <p>This step allows you to control your Hadoop environment. For
      example, if you want to develop with Secure Hadoop, you'll want
      to explore the Hadoop/Kerberos communication, so you'll want to
      make sure that HBase is using the Hadoop that you're looking at
      in your Hadoop source directory (above)</p>

      <p>Add the following to your bin/hbase:</p>

      <pre class="block">
	if [ "$DEV_MODE" = "1" ] ; then
            CLASSPATH=~/hadoop-common/build/classes:~/hadoop-hdfs/build/classes:$CLASSPATH
	fi
      </pre>

      <h1>Runtime inspection of HBase</h1>
    <p>
      I prefer Intellij IDEA rather than Eclipse, but would welcome
      someone writing an Eclipse guide and adding it here (using
      CC:attribute licence).
    </p>
        <h2>Intellij</h2>


        <h3>Intellij: Attaching to remote instances</h3>
   
	<p>
	Intellij uses the Java debug machinery (enabled with):

	<pre class="block">
	  -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5006
	</pre>
	
	<p>
	to interactively debug Java processes running on remote
	machines. This is great because it lets you run your desktop
	operating system of choice (be it Mac OS X, Linux, or Windows)
	as your development environment, but still run your compiled
	runtime on Linux, which is required if you want to run HBase
	according to its <a href="http://hbase.org/">official
	Recommendations</a>.
  </body>
</html>
